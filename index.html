<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Price Forecasting - Advanced ML Platform</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
                .navbar {
                    position: sticky;
                    top: 0;
                    width: 100%;
                    background: var(--card-bg);
                    box-shadow: 0 2px 12px rgba(102,126,234,0.07);
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    padding: 0 32px;
                    z-index: 1001;
                    min-height: 60px;
                }
                .nav-logo {
                    display: flex;
                    align-items: center;
                    font-size: 1.3em;
                    font-weight: 700;
                    color: var(--primary-color);
                    letter-spacing: 1px;
                }
                .nav-links {
                    list-style: none;
                    display: flex;
                    gap: 28px;
                }
                .nav-links li a {
                    text-decoration: none;
                    color: var(--text-color);
                    font-weight: 500;
                    font-size: 1em;
                    transition: color 0.2s;
                }
                .nav-links li a:hover {
                    color: var(--primary-color);
                }
                .theme-toggle-btn {
                    background: var(--card-bg);
                    color: var(--primary-color);
                    border: 2px solid var(--primary-color);
                    border-radius: 50%;
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    font-size: 1.2em;
                    cursor: pointer;
                    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
                    transition: background 0.4s, color 0.4s, border 0.4s;
                }
                .hero-section {
                    width: 100%;
                    background: var(--primary-bg);
                    color: var(--stat-color);
                    padding: 60px 0 40px 0;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    box-shadow: 0 2px 24px rgba(102,126,234,0.08);
                }
                .hero-content {
                    text-align: center;
                    max-width: 700px;
                }
                .hero-content h1 {
                    font-size: 2.7em;
                    font-weight: 800;
                    margin-bottom: 18px;
                    letter-spacing: 1px;
                }
                .hero-content p {
                    font-size: 1.25em;
                    margin-bottom: 28px;
                    opacity: 0.95;
                }
                .hero-cta {
                    display: inline-block;
                    background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
                    color: var(--stat-color);
                    font-weight: 700;
                    padding: 14px 36px;
                    border-radius: 30px;
                    font-size: 1.1em;
                    text-decoration: none;
                    box-shadow: 0 4px 18px rgba(102,126,234,0.13);
                    transition: background 0.3s, color 0.3s, box-shadow 0.3s;
                }
                .hero-cta:hover {
                    background: linear-gradient(135deg, var(--secondary-color) 0%, var(--primary-color) 100%);
                    color: var(--stat-color);
                    box-shadow: 0 8px 32px rgba(102,126,234,0.18);
                }
                /* Card redesign */
                .card {
                    border-radius: 18px;
                    box-shadow: 0 6px 32px rgba(102,126,234,0.10);
                    border: 1.5px solid rgba(102,126,234,0.07);
                }
                .card h2 {
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    font-size: 2em;
                    color: var(--primary-color);
                    border-bottom: 2px solid var(--primary-color);
                    padding-bottom: 8px;
                    margin-bottom: 18px;
                }
                /* Responsive nav/hero */
                @media (max-width: 900px) {
                    .navbar { padding: 0 10px; }
                    .nav-links { gap: 12px; }
                    .hero-content h1 { font-size: 2em; }
                }
                @media (max-width: 600px) {
                    .navbar { flex-direction: column; gap: 8px; min-height: 70px; }
                    .nav-links { flex-direction: column; gap: 4px; align-items: flex-start; }
                    .hero-section { padding: 30px 0 18px 0; }
                    .hero-content h1 { font-size: 1.2em; }
                    .hero-content p { font-size: 1em; }
                    .hero-cta { padding: 10px 18px; font-size: 1em; }
                }
        :root {
            --primary-color: #667eea;
            --secondary-color: #764ba2;
            --accent-color: #f093fb;
            --card-bg: #fff;
            --text-color: #222;
            --text-light: #666;
            --bg-light: #f8f9fa;
            --border-color: #e0e0e0;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --danger-color: #ef4444;
        }
        
        [data-theme="dark"] {
            --primary-color: #8ec6ff;
            --secondary-color: #b388ff;
            --accent-color: #ff7eb8;
            --card-bg: #1a1a2e;
            --text-color: #f3f3f3;
            --text-light: #bbb;
            --bg-light: #16213e;
            --border-color: #333;
            --success-color: #34d399;
            --warning-color: #fbbf24;
            --danger-color: #f87171;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background-color: #f5f7fb;
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .metrics-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95em;
        }

        .metrics-table th, .metrics-table td {
            padding: 10px 12px;
            border-bottom: 1px solid var(--border-color);
            text-align: left;
            white-space: nowrap;
        }

        .metrics-table th {
            background: var(--bg-light);
            color: var(--text-color);
            font-weight: 700;
        }

        [data-theme="dark"] body {
            background-color: #0f0f23;
        }

        /* ============ NAVBAR ============ */
        .navbar {
            position: sticky;
            top: 0;
            width: 100%;
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(102, 126, 234, 0.08);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 2rem;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.3em;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
            transition: transform 0.3s;
        }

        .nav-logo:hover {
            transform: translateY(-2px);
        }

        .nav-logo img {
            width: 32px;
            height: 32px;
        }

        .nav-links {
            list-style: none;
            display: flex;
            gap: 2rem;
            margin: 0;
        }

        .nav-links li a {
            text-decoration: none;
            color: var(--text-color);
            font-weight: 500;
            font-size: 0.95em;
            transition: color 0.3s, border-bottom 0.3s;
            position: relative;
            padding-bottom: 4px;
        }

        .nav-links li a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            transition: width 0.3s;
        }

        .nav-links li a:hover::after {
            width: 100%;
        }

        .theme-toggle-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .theme-toggle-btn:hover {
            transform: rotate(20deg) scale(1.1);
        }

        /* ============ HERO SECTION ============ */
        .hero-section {
            position: relative;
            min-height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            color: white;
            overflow: hidden;
            padding: 60px 20px;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 500px;
            height: 500px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        .hero-section::after {
            content: '';
            position: absolute;
            bottom: -30%;
            left: -5%;
            width: 400px;
            height: 400px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 50%;
            animation: float 8s ease-in-out infinite reverse;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(30px); }
        }

        .hero-content {
            text-align: center;
            max-width: 800px;
            position: relative;
            z-index: 2;
            animation: fadeInUp 0.8s ease-out;
        }

        .hero-content h1 {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            letter-spacing: -1px;
            line-height: 1.2;
        }

        .hero-content p {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            opacity: 0.95;
            line-height: 1.6;
        }

        .hero-cta {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            background: white;
            color: var(--primary-color);
            font-weight: 700;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-size: 1.1em;
            text-decoration: none;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }

        .hero-cta:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
        }

        /* ============ CONTAINER ============ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* ============ CARDS ============ */
        .card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.08);
            border: 1px solid rgba(102, 126, 234, 0.1);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 40px rgba(102, 126, 234, 0.15);
        }

        .card h2 {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.8em;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--primary-color);
        }

        .card h2 i {
            font-size: 1.2em;
        }

        /* ============ DASHBOARD ============ */
        .dashboard {
            display: grid;
            gap: 2rem;
            padding: 3rem 0;
        }

        .section-title {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--primary-color);
            margin: 3rem 0 2rem 0;
            text-align: center;
            position: relative;
            padding-bottom: 1rem;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            border-radius: 2px;
        }

        /* ============ STATS ============ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .stat-box {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.3);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .stat-box::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }

        .stat-box:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 32px rgba(102, 126, 234, 0.4);
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: 800;
            margin: 0.5rem 0;
            position: relative;
            z-index: 2;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.9;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            position: relative;
            z-index: 2;
            font-weight: 600;
        }

        /* ============ INPUTS ============ */
        .input-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .input-group label {
            color: var(--text-color);
            font-weight: 600;
            font-size: 0.95em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .input-group input,
        .input-group select {
            padding: 0.875rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1em;
            background: var(--card-bg);
            color: var(--text-color);
            transition: all 0.3s;
            font-family: inherit;
        }

        .input-group input:focus,
        .input-group select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* ============ BUTTONS ============ */
        .button-group {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        button {
            padding: 0.875rem 2rem;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            flex: 1;
            min-width: 150px;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
        }

        .btn-secondary {
            background: var(--bg-light);
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
            flex: 1;
            min-width: 150px;
        }

        .btn-secondary:hover {
            background: var(--primary-color);
            color: white;
        }

        /* ============ FEATURES ============ */
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            padding: 2rem 0;
        }

        .feature-item {
            padding: 2rem;
            background: var(--card-bg);
            border: 2px solid transparent;
            border-radius: 12px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .feature-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(180deg, var(--primary-color), var(--accent-color));
            transition: width 0.3s;
        }

        .feature-item:hover::before {
            width: 100%;
            opacity: 0.1;
        }

        .feature-item:hover {
            border-color: var(--primary-color);
            transform: translateY(-6px);
            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.15);
        }

        .feature-icon {
            display: inline-block;
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5em;
            margin-bottom: 1rem;
        }

        .feature-item h3 {
            color: var(--primary-color);
            margin-bottom: 0.75rem;
            font-size: 1.2em;
            font-weight: 700;
        }

        .feature-item p {
            color: var(--text-light);
            line-height: 1.7;
        }

        /* ============ CHART ============ */
        .chart-container {
            position: relative;
            height: 400px;
            margin: 2rem 0;
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.08);
        }

        /* ============ RESULTS ============ */
        .result-box {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05), rgba(240, 147, 251, 0.05));
            border: 2px solid var(--primary-color);
            border-radius: 12px;
            padding: 2rem;
            margin-top: 2rem;
            display: none;
            animation: slideInUp 0.4s ease-out;
        }

        .result-box.active {
            display: block;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ============ TABS ============ */
        .tabs {
            display: flex;
            gap: 0;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--border-color);
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 1rem 2rem;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            color: var(--text-light);
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            font-size: 1em;
            box-shadow: none;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-size: 0.95em;
        }

        .tab-btn:hover {
            color: var(--primary-color);
        }

        .tab-btn.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeInUp 0.3s ease-out;
        }

        /* ============ TECH STACK ============ */
        .tech-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-top: 1.5rem;
        }

        .tech-tag {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            display: inline-block;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
        }

        /* ============ LOADING ============ */
        .loading {
            display: none;
            text-align: center;
            color: var(--primary-color);
            font-weight: 600;
            margin-top: 2rem;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(102, 126, 234, 0.2);
            border-top: 3px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 0.5rem;
            vertical-align: middle;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ============ FOOTER ============ */
        footer {
            text-align: center;
            color: white;
            margin-top: 4rem;
            padding: 2rem 1rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        footer p {
            opacity: 0.9;
            margin: 0.5rem 0;
        }

        /* ============ ABOUT SECTION ============ */
        .about-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
            padding: 3rem 0;
        }

        .about-text h3 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 1.5em;
        }

        .about-text p {
            color: var(--text-light);
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }

        .about-image {
            text-align: center;
        }

        .about-image img {
            max-width: 100%;
            height: auto;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(102, 126, 234, 0.2);
        }

        /* ============ RESPONSIVE ============ */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 1rem;
                padding: 1rem;
            }

            .nav-links {
                flex-direction: column;
                gap: 0.5rem;
                width: 100%;
            }

            .nav-links li a {
                display: block;
                padding: 0.5rem 0;
            }

            .hero-content h1 {
                font-size: 2rem;
            }

            .hero-content p {
                font-size: 1rem;
            }

            .about-section {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .features {
                grid-template-columns: 1fr;
            }

            .input-section {
                grid-template-columns: 1fr;
            }

            .chart-container {
                height: 300px;
            }

            .button-group {
                flex-direction: column;
            }

            button {
                width: 100%;
            }

            .section-title {
                font-size: 1.8rem;
            }
        }

        @media (max-width: 480px) {
            .hero-section {
                min-height: 50vh;
                padding: 40px 20px;
            }

            .hero-content h1 {
                font-size: 1.5rem;
            }

            .card {
                padding: 1.5rem;
            }

            .card h2 {
                font-size: 1.5em;
            }

            .tab-btn {
                padding: 0.75rem 1rem;
                font-size: 0.85em;
            }

            .nav-logo {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <a href="#" class="nav-logo">
            <i class="fas fa-chart-line"></i>
            <span>Crypto Forecasting</span>
        </a>
        <ul class="nav-links">
            <li><a href="#demo">Demo</a></li>
            <li><a href="#models">Models</a></li>
            <li><a href="#features">Features</a></li>
            <li><a href="#about">About</a></li>
        </ul>
        <button id="themeToggle" aria-label="Toggle dark/light mode" class="theme-toggle-btn">
            <i class="fas fa-moon" id="themeIcon"></i>
        </button>
    </nav>
    
    <section class="hero-section">
        <div class="hero-content">
            <h1>Cryptocurrency Price Forecasting</h1>
            <p>Advanced Machine Learning & Deep Learning for Accurate Crypto Price Prediction. Analyze trends with 8 specialized models and make informed trading decisions.</p>
            <button class="hero-cta">
                <i class="fas fa-play"></i> Start Demo
            </button>
        </div>
    </section>
    
    <main class="container">
        <div class="dashboard">
            <!-- Key Metrics -->
            <section class="card" id="metrics">
                <h2><i class="fas fa-chart-pie"></i> Key Metrics</h2>
                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="stat-label">Models Deployed</div>
                        <div class="stat-value">8</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-label">Data Points</div>
                    <div class="stat-box">
                        <div class="stat-label">Real-time Updates</div>
                        <div class="stat-value">24/7</div>
                    </div>
                </div>
            </section>

            <!-- Interactive Forecasting Demo -->
            <section class="card" id="demo">
                <h2><i class="fas fa-wand-magic-sparkles"></i> Interactive Forecasting Demo</h2>
                <div class="input-section">
                    <div class="input-group">
                        <label for="cryptoSelect">
                            <i class="fas fa-coins"></i> Select Cryptocurrency
                        </label>
                        <select id="cryptoSelect">
                            <option value="BTC">Bitcoin (BTC)</option>
                            <option value="ETH">Ethereum (ETH)</option>
                            <option value="XRP">Ripple (XRP)</option>
                            <option value="ADA">Cardano (ADA)</option>
                            <option value="SOL">Solana (SOL)</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="modelSelect">
                            <i class="fas fa-brain"></i> Select Model
                        </label>
                        <select id="modelSelect">
                            <option value="ensemble">Ensemble (Recommended)</option>
                            <option value="lstm">LSTM Neural Network</option>
                            <option value="gru">GRU Neural Network</option>
                            <option value="arima">ARIMA</option>
                            <option value="sarima">SARIMA</option>
                            <option value="prophet">Facebook Prophet</option>
                            <option value="holt">Holt-Winters</option>
                            <option value="ma">Moving Average</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="daysAhead">
                            <i class="fas fa-calendar"></i> Forecast Days
                        </label>
                        <input type="number" id="daysAhead" value="7" min="1" max="90">
                    </div>
                    <div class="input-group">
                        <label for="dateRangeSelect">
                            <i class="fas fa-calendar-alt"></i> Historical Range
                        </label>
                        <select id="dateRangeSelect" onchange="onRangeChange()">
                            <option value="all">All Time</option>
                            <option value="6m">Last 6 Months</option>
                            <option value="1m">Last 1 Month</option>
                            <option value="custom">Custom</option>
                        </select>
                        <input type="date" id="startDate" style="display:none; margin-top:4px;" onchange="onCustomDateChange()">
                        <input type="date" id="endDate" style="display:none; margin-top:4px;" onchange="onCustomDateChange()">
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn-primary" onclick="runForecast()">
                        <i class="fas fa-play"></i> Generate Forecast
                    </button>
                    <button class="btn-secondary" onclick="loadHistoricalChart()">
                        <i class="fas fa-history"></i> Historical Data
                    </button>
                </div>

                <div class="loading" id="loading">
                    <span class="spinner"></span>Processing forecast...
                </div>

                <div class="result-box" id="resultBox">
                    <h3 style="color: var(--primary-color); margin-bottom: 1.5rem; font-size: 1.3rem;">
                        <i class="fas fa-chart-line"></i> Forecast Results
                    </h3>
                    <div class="chart-actions" style="display:flex; justify-content:flex-end; gap:8px; margin-bottom:8px;">
                        <button class="btn-secondary" onclick="resetZoom()">
                            <i class="fas fa-magnifying-glass-minus"></i> Reset Zoom
                        </button>
                    </div>
                    <div class="chart-container">
                        <canvas id="forecastChart"></canvas>
                    </div>
                    <div id="forecastStats" style="margin-top: 2rem;"></div>
                </div>
            </section>

            <!-- Models Overview -->
            <section class="card" id="models">
                <h2><i class="fas fa-microchip"></i> ML Models & Algorithms</h2>
                <div class="features">
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-brain"></i>
                        </div>
                        <h3>LSTM</h3>
                        <p>Long Short-Term Memory networks capture complex temporal dependencies in cryptocurrency price movements.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-cog"></i>
                        </div>
                        <h3>GRU</h3>
                        <p>Gated Recurrent Units provide faster training with comparable performance to LSTM architectures.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <h3>ARIMA</h3>
                        <p>Classical AutoRegressive Integrated Moving Average for traditional time series analysis and forecasting.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-sync"></i>
                        </div>
                        <h3>SARIMA</h3>
                        <p>Seasonal ARIMA detects and models recurring seasonal patterns in crypto market cycles.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-crystal-ball"></i>
                        </div>
                        <h3>Prophet</h3>
                        <p>Facebook's robust framework handles outliers and generates confident prediction intervals.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-wave-square"></i>
                        </div>
                        <h3>Holt-Winters</h3>
                        <p>Exponential smoothing method capturing trends and seasonal variations in market data.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>Moving Average</h3>
                        <p>Classical baseline model using simple and exponential moving average approaches.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-layer-group"></i>
                        </div>
                        <h3>Ensemble</h3>
                        <p>Combines predictions from all models to deliver maximum accuracy and reliability.</p>
                    </div>
                </div>
            </section>

            <!-- Model Comparison -->
            <section class="card" id="model-comparison">
                <h2><i class="fas fa-scale-balanced"></i> Model Performance Comparison</h2>
                <p style="color: var(--text-light); margin-bottom: 1rem;">Metrics loaded from Results/model_metrics.csv</p>
                <div id="metricsTable" style="overflow-x: auto;">Loading metrics...</div>
            </section>

            <!-- Advanced Features -->
            <section class="card" id="features">
                <h2><i class="fas fa-stars"></i> Advanced Features</h2>
                <div class="features">
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-indicator"></i>
                        </div>
                        <h3>Technical Indicators</h3>
                        <p>RSI, MACD, Bollinger Bands, EMA, SMA for deep market analysis and insights.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-broom"></i>
                        </div>
                        <h3>Smart Data Pipeline</h3>
                        <p>Automatic cleaning, normalization, feature scaling for optimal model performance.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-gauge"></i>
                        </div>
                        <h3>Performance Metrics</h3>
                        <p>RMSE, MAE, MAPE, directional accuracy for comprehensive evaluation.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-palette"></i>
                        </div>
                        <h3>Rich Visualization</h3>
                        <p>Interactive charts supporting multiple cryptos, timeframes, and customization.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <h3>Fast Processing</h3>
                        <p>Optimized inference engine for real-time predictions on new market data.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-shield"></i>
                        </div>
                        <h3>Validation Framework</h3>
                        <p>Train-test splits, cross-validation, and backtesting for robust verification.</p>
                    </div>
                </div>
            </section>

            <!-- About Section -->
            <section class="card" id="about">
                <h2><i class="fas fa-book"></i> Project Overview</h2>
                <div class="about-section">
                    <div class="about-text">
                        <h3>Intelligent Cryptocurrency Price Forecasting</h3>
                        <p>
                            This advanced project leverages state-of-the-art machine learning techniques to predict 
                            cryptocurrency prices with exceptional accuracy. We combine classical statistical methods 
                            with cutting-edge deep learning models to provide comprehensive market insights.
                        </p>
                        <p>
                            Our system processes extensive historical data from major cryptocurrencies, automatically 
                            engineers advanced features including technical indicators, and trains multiple specialized 
                            models in parallel. A sophisticated ensemble voting mechanism combines predictions across all 
                            models for maximum robustness.
                        </p>
                        <p>
                            Perfect for traders, analysts, and investors seeking data-driven decision support for Bitcoin, 
                            Ethereum, and other digital assets. Real-time processing capabilities ensure you always have 
                            the latest forecasts at your fingertips.
                        </p>
                    </div>
                    <div>
                        <h3 style="color: var(--primary-color); margin-bottom: 1.5rem; font-size: 1.2rem;">
                            <i class="fas fa-toolbox"></i> Technology Stack
                        </h3>
                        <div class="tech-list">
                            <span class="tech-tag">Python</span>
                            <span class="tech-tag">TensorFlow/Keras</span>
                            <span class="tech-tag">NumPy & Pandas</span>
                            <span class="tech-tag">Scikit-learn</span>
                            <span class="tech-tag">Statsmodels</span>
                            <span class="tech-tag">Facebook Prophet</span>
                            <span class="tech-tag">Matplotlib</span>
                            <span class="tech-tag">Chart.js</span>
                        </div>
                        <h3 style="color: var(--primary-color); margin-top: 2rem; margin-bottom: 1rem; font-size: 1.2rem;">
                            <i class="fas fa-rocket"></i> Capabilities
                        </h3>
                        <ul style="color: var(--text-light); line-height: 1.9; margin-left: 1.5rem;">
                            <li><i class="fas fa-check" style="color: var(--success-color); margin-right: 0.5rem;"></i>8 specialized forecasting models</li>
                            <li><i class="fas fa-check" style="color: var(--success-color); margin-right: 0.5rem;"></i>25+ engineered features</li>
                            <li><i class="fas fa-check" style="color: var(--success-color); margin-right: 0.5rem;"></i>Support for 5+ cryptocurrencies</li>
                            <li><i class="fas fa-check" style="color: var(--success-color); margin-right: 0.5rem;"></i>Real-time price processing</li>
                            <li><i class="fas fa-check" style="color: var(--success-color); margin-right: 0.5rem;"></i>Advanced backtesting engine</li>
                            <li><i class="fas fa-check" style="color: var(--success-color); margin-right: 0.5rem;"></i>Interactive visualizations</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Documentation -->
            <section class="card" id="docs">
                <h2><i class="fas fa-book-open"></i> Documentation & Guides</h2>
                <div class="tabs">
                    <button class="tab-btn active" onclick="switchTab(event, 'models')">
                        <i class="fas fa-brain"></i> Models
                    </button>
                    <button class="tab-btn" onclick="switchTab(event, 'data')">
                        <i class="fas fa-database"></i> Data Pipeline
                    </button>
                    <button class="tab-btn" onclick="switchTab(event, 'usage')">
                        <i class="fas fa-play-circle"></i> Getting Started
                    </button>
                </div>

                <div id="models" class="tab-content active">
                    <h3 style="color: var(--primary-color); margin-bottom: 1rem; font-weight: 600;">Deep Learning Models</h3>
                    <p style="color: var(--text-light); line-height: 1.8; margin-bottom: 1.5rem;">
                        <strong>LSTM & GRU Neural Networks</strong> are cutting-edge recurrent architectures that excel at capturing 
                        long-range temporal dependencies in cryptocurrency price sequences. Models are trained on 80% of historical data 
                        with comprehensive validation on the remaining 20%.
                    </p>
                    <h3 style="color: var(--primary-color); margin-bottom: 1rem; margin-top: 1.5rem; font-weight: 600;">Statistical Models</h3>
                    <p style="color: var(--text-light); line-height: 1.8; margin-bottom: 1.5rem;">
                        <strong>ARIMA & SARIMA</strong> are classical time series methods that handle trends and seasonal patterns effectively. 
                        Particularly useful for cryptocurrency prices with weekly/monthly cyclical patterns.
                    </p>
                    <h3 style="color: var(--primary-color); margin-bottom: 1rem; margin-top: 1.5rem; font-weight: 600;">Ensemble Voting</h3>
                    <p style="color: var(--text-light); line-height: 1.8;">
                        <strong>Weighted Ensemble</strong> intelligently combines predictions from all models with optimized weights, 
                        significantly reducing error and improving forecast stability and reliability.
                    </p>
                </div>

                <div id="data" class="tab-content">
                    <h3 style="color: var(--primary-color); margin-bottom: 1rem; font-weight: 600;">Data Processing Pipeline</h3>
                    <p style="color: var(--text-light); line-height: 1.8; margin-bottom: 1rem;">
                        <strong>1Ô∏è‚É£ Data Loading:</strong> Hourly cryptocurrency data loaded from trusted exchange sources
                    </p>
                    <p style="color: var(--text-light); line-height: 1.8; margin-bottom: 1rem;">
                        <strong>2Ô∏è‚É£ Data Cleaning:</strong> Missing values handled via forward-fill, outliers detected with IQR
                    </p>
                    <p style="color: var(--text-light); line-height: 1.8; margin-bottom: 1rem;">
                        <strong>3Ô∏è‚É£ Feature Engineering:</strong> 25+ technical indicators computed (RSI, MACD, Bollinger Bands, etc.)
                    </p>
                    <p style="color: var(--text-light); line-height: 1.8;">
                        <strong>4Ô∏è‚É£ Normalization:</strong> All features scaled to [0, 1] using MinMaxScaler for optimal neural network training
                    </p>
                </div>

                <div id="usage" class="tab-content">
                    <h3 style="color: var(--primary-color); margin-bottom: 1rem; font-weight: 600;">Quick Start Guide</h3>
                    <p style="color: var(--text-light); line-height: 1.8; margin-bottom: 1rem;">
                        <strong>üìç Step 1:</strong> Head to the Demo section and select your target cryptocurrency
                    </p>
                    <p style="color: var(--text-light); line-height: 1.8; margin-bottom: 1rem;">
                        <strong>üìç Step 2:</strong> Choose your preferred model - Ensemble is recommended for best accuracy
                    </p>
                    <p style="color: var(--text-light); line-height: 1.8; margin-bottom: 1rem;">
                        <strong>üìç Step 3:</strong> Set your forecasting horizon (1-90 days ahead)
                    </p>
                    <p style="color: var(--text-light); line-height: 1.8;">
                        <strong>üìç Step 4:</strong> Click "Generate Forecast" to see predictions with confidence intervals and charts
                    </p>
                </div>
            </section>
        </div>

        <footer>
            <div style="margin-bottom: 1.5rem; font-size: 1.5rem; display: flex; justify-content: center; gap: 2rem;">
                <a href="https://github.com/" target="_blank" rel="noopener" title="GitHub Repository" style="color: var(--primary-color); text-decoration: none; transition: transform 0.3s;">
                    <i class="fab fa-github"></i>
                </a>
                <a href="#docs" title="Documentation" style="color: var(--primary-color); text-decoration: none; transition: transform 0.3s;">
                    <i class="fas fa-book"></i>
                </a>
                <a href="mailto:contact@example.com" title="Contact Us" style="color: var(--primary-color); text-decoration: none; transition: transform 0.3s;">
                    <i class="fas fa-envelope"></i>
                </a>
            </div>
            <p><strong>Crypto Price Forecasting</strong> &copy; 2024-2025 | Advanced ML-Powered Analytics Platform</p>
            <p style="font-size: 0.9em; margin-top: 0.5rem; opacity: 0.9;">Built with Python, TensorFlow, and Cutting-Edge Data Science</p>
        </footer>
    </main>

    <script>
        // ============ THEME MANAGEMENT ============
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        
        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            themeIcon.className = theme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
        }
        
        themeToggle.addEventListener('click', () => {
            const current = document.documentElement.getAttribute('data-theme') || 'light';
            setTheme(current === 'dark' ? 'light' : 'dark');
        });
        
        // Initialize theme from localStorage or system preference
        (function() {
            const saved = localStorage.getItem('theme');
            if (saved) {
                setTheme(saved);
            } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                setTheme('dark');
            } else {
                setTheme('light');
            }
        })();

        if (window['chartjs-plugin-zoom']) {
            Chart.register(window['chartjs-plugin-zoom']);
        }

        // ============ DATA LOADING (REAL CSV) ============
        let forecastChart = null;
        let hourlyCache = null;
        const dailyCache = {};
        let metricsCache = null;

        async function ensureModelMetrics() {
            if (metricsCache) return metricsCache;
            const response = await fetch('Results/model_metrics.csv');
            const text = await response.text();
            const lines = text.trim().split(/\r?\n/);
            const headers = lines[0].split(',').map(h => h.replace(/"/g, ''));
            const rows = lines.slice(1).map(line => {
                const cols = line.split(',');
                const entry = {};
                headers.forEach((h, idx) => {
                    entry[h] = cols[idx] ? cols[idx].replace(/"/g, '') : '';
                });
                return entry;
            }).filter(r => r.Model || r.model);
            metricsCache = rows;
            return metricsCache;
        }

        async function renderModelMetrics() {
            const container = document.getElementById('metricsTable');
            if (!container) return;
            container.textContent = 'Loading metrics...';
            try {
                const data = await ensureModelMetrics();
                if (!data.length) {
                    container.textContent = 'No metrics found.';
                    return;
                }
                const headers = Object.keys(data[0]);
                const headerRow = headers.map(h => `<th>${h}</th>`).join('');
                const rowsHtml = data.map(row => {
                    return '<tr>' + headers.map(h => `<td>${row[h] || ''}</td>`).join('') + '</tr>';
                }).join('');
                container.innerHTML = `<table class="metrics-table"><thead><tr>${headerRow}</tr></thead><tbody>${rowsHtml}</tbody></table>`;
            } catch (err) {
                console.error('Failed to load model metrics', err);
                container.textContent = 'Failed to load metrics.';
            }
        }

        async function ensureHourlyData() {
            if (hourlyCache) return hourlyCache;
            const response = await fetch('Data/Crypto_Hourly_Refined.csv');
            const csvText = await response.text();
            const lines = csvText.trim().split(/\r?\n/);
            const headers = lines[0].split(',');
            const dateIdx = headers.indexOf('date');
            const symbolIdx = headers.indexOf('symbol');
            const closeIdx = headers.indexOf('close');
            const parsed = lines.slice(1).map(line => {
                const cols = line.split(',');
                const date = new Date(cols[dateIdx]);
                const symbol = cols[symbolIdx];
                const close = parseFloat(cols[closeIdx]);
                if (!symbol || Number.isNaN(close)) return null;
                return { date, symbol, close };
            }).filter(Boolean);
            hourlyCache = parsed;
            return hourlyCache;
        }

        function toISODate(dateObj) {
            return dateObj.toISOString().slice(0, 10);
        }

        function getDailySeries(symbol) {
            if (dailyCache[symbol]) return dailyCache[symbol];
            const rows = (hourlyCache || []).filter(row => row.symbol === symbol);
            const byDay = new Map();
            rows.forEach(row => {
                const dayKey = toISODate(row.date);
                const existing = byDay.get(dayKey);
                if (!existing || row.date > existing.date) {
                    byDay.set(dayKey, { date: row.date, close: row.close });
                }
            });
            const series = Array.from(byDay.entries())
                .sort((a, b) => a[0].localeCompare(b[0]))
                .map(([day, value]) => ({
                    day,
                    label: new Date(day).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' }),
                    close: value.close
                }));
            dailyCache[symbol] = series;
            return series;
        }

        function sliceByRange(series, range, startDate, endDate) {
            if (range === '6m') return series.slice(-182);
            if (range === '1m') return series.slice(-30);
            if (range === 'custom' && startDate && endDate) {
                const start = new Date(startDate);
                const end = new Date(endDate);
                return series.filter(point => {
                    const d = new Date(point.day);
                    return d >= start && d <= end;
                });
            }
            return series;
        }

        function computeTrendForecast(series, days) {
            const window = series.slice(-Math.min(90, series.length));
            if (window.length === 0) {
                return { forecast: new Array(days).fill(0), confidence: 55 };
            }
            const n = window.length;
            const xs = window.map((_, idx) => idx);
            const ys = window.map(p => p.close);
            const sumX = xs.reduce((a, b) => a + b, 0);
            const sumY = ys.reduce((a, b) => a + b, 0);
            const sumXY = xs.reduce((acc, x, i) => acc + x * ys[i], 0);
            const sumXX = xs.reduce((acc, x) => acc + x * x, 0);
            const slope = (n * sumXY - sumX * sumY) / Math.max(n * sumXX - sumX * sumX, 1e-6);
            const intercept = (sumY - slope * sumX) / n;
            const fitted = xs.map(x => slope * x + intercept);
            const meanY = sumY / n;
            const sse = fitted.reduce((acc, fit, i) => acc + Math.pow(ys[i] - fit, 2), 0);
            const sst = ys.reduce((acc, y) => acc + Math.pow(y - meanY, 2), 0) || 1e-6;
            const r2 = 1 - sse / sst;
            const confidence = Math.max(55, Math.min(95, 60 + (isFinite(r2) ? r2 : 0) * 25));

            const startIndex = n - 1;
            const forecast = Array.from({ length: parseInt(days, 10) }, (_, i) => {
                const x = startIndex + i + 1;
                return slope * x + intercept;
            });

            return { forecast, confidence: Math.round(confidence) };
        }

        async function runForecast() {
            const crypto = document.getElementById('cryptoSelect').value;
            const model = document.getElementById('modelSelect').value;
            const days = parseInt(document.getElementById('daysAhead').value, 10);
            const loading = document.getElementById('loading');
            loading.classList.add('active');
            try {
                await ensureHourlyData();
                const dailySeries = getDailySeries(crypto);
                const recentHistory = dailySeries.slice(-Math.min(200, dailySeries.length));
                const { forecast, confidence } = computeTrendForecast(dailySeries, days);
                loading.classList.remove('active');
                displayForecast({
                    crypto,
                    model,
                    days,
                    historical: recentHistory,
                    forecast,
                    confidence
                });
            } catch (err) {
                loading.classList.remove('active');
                console.error('Failed to load data', err);
            }
        }

        function displayForecast({ crypto, model, days, historical, forecast, confidence }) {
            const resultBox = document.getElementById('resultBox');
            resultBox.classList.add('active');

            const lastHistorical = historical[historical.length - 1];
            const labels = historical.map(p => p.label);
            const futureLabels = Array.from({ length: days }, (_, i) => {
                const d = new Date(lastHistorical.day);
                d.setDate(d.getDate() + i + 1);
                return d.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });
            });
            const chartLabels = labels.concat(futureLabels);
            const historicalValues = historical.map(p => p.close).concat(new Array(days).fill(null));
            const forecastValues = new Array(historical.length).fill(null).concat(forecast);

            const ctx = document.getElementById('forecastChart').getContext('2d');
            if (forecastChart) {
                forecastChart.destroy();
            }

            forecastChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: chartLabels,
                    datasets: [
                        {
                            label: 'Historical Prices',
                            data: historicalValues,
                            borderColor: '#667eea',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.35,
                            pointRadius: 3,
                            pointBackgroundColor: '#667eea'
                        },
                        {
                            label: 'Forecast',
                            data: forecastValues,
                            borderColor: '#764ba2',
                            borderWidth: 3,
                            borderDash: [5, 5],
                            fill: false,
                            tension: 0.35,
                            pointRadius: 4,
                            pointBackgroundColor: '#764ba2'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            labels: {
                                usePointStyle: true,
                                padding: 15,
                                font: { size: 12, weight: 'bold' }
                            }
                        },
                        title: {
                            display: true,
                            text: `${crypto} Price Forecast (${new Date().getFullYear()}) - ${model.toUpperCase()} Model`,
                            font: { size: 14, weight: 'bold' },
                            padding: 20
                        },
                        zoom: {
                            pan: { enabled: true, mode: 'xy', modifierKey: 'ctrl' },
                            zoom: {
                                wheel: { enabled: true },
                                pinch: { enabled: true },
                                mode: 'xy'
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: { display: true, text: 'Price ($)' },
                            grid: { color: 'rgba(0,0,0,0.1)' }
                        },
                        x: {
                            grid: { display: false }
                        }
                    }
                }
            });

            const currentPrice = lastHistorical.close;
            const predictedPrice = forecast[forecast.length - 1];
            const priceChange = ((predictedPrice - currentPrice) / currentPrice) * 100;
            let recommendation = 'HOLD';
            let color = '#f59e0b';
            let investmentAmount = 0;
            let reason = '';
            let icon = '‚è∏Ô∏è';

            if (priceChange > 5 && confidence > 85) {
                recommendation = 'STRONG BUY';
                color = '#10b981';
                icon = 'üöÄ';
                investmentAmount = Math.min(5000, 1000 * (priceChange / 5) * (confidence / 100));
                reason = `Price expected to rise ${priceChange.toFixed(1)}% with ${confidence}% confidence. Good entry point.`;
            } else if (priceChange > 2 && confidence > 80) {
                recommendation = 'BUY';
                color = '#22c55e';
                icon = 'üìà';
                investmentAmount = Math.min(3000, 500 * (priceChange / 2) * (confidence / 100));
                reason = `Moderate upward trend of ${priceChange.toFixed(1)}%. Consider buying on dips.`;
            } else if (priceChange < -5 || confidence < 75) {
                recommendation = 'SELL';
                color = '#ef4444';
                icon = 'üìâ';
                investmentAmount = Math.min(2000, Math.abs(priceChange) * 100);
                reason = `Price may decline ${Math.abs(priceChange).toFixed(1)}%. Consider taking profits or reducing exposure.`;
            } else if (priceChange < -2 && confidence < 80) {
                recommendation = 'CONSIDER SELLING';
                color = '#f97316';
                icon = '‚ö†Ô∏è';
                investmentAmount = Math.min(1500, Math.abs(priceChange) * 80);
                reason = `Weak confidence (${confidence}%) with ${Math.abs(priceChange).toFixed(1)}% potential drop. Monitor closely.`;
            } else {
                recommendation = 'HOLD';
                color = '#f59e0b';
                icon = '‚è∏Ô∏è';
                investmentAmount = 0;
                reason = `Sideways movement expected (${priceChange.toFixed(1)}%). Wait for clearer signals.`;
            }

            const currentYear = new Date().getFullYear();
            const statsHTML = `
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px;">
                    <div style="background: #f0f7ff; padding: 15px; border-radius: 8px;">
                        <div style="color: #667eea; font-size: 0.9em; font-weight: 600; text-transform: uppercase;">Model</div>
                        <div style="font-size: 1.3em; font-weight: bold; color: #333; margin-top: 5px;">${model.toUpperCase()}</div>
                    </div>
                    <div style="background: #f0f7ff; padding: 15px; border-radius: 8px;">
                        <div style="color: #667eea; font-size: 0.9em; font-weight: 600; text-transform: uppercase;">Confidence</div>
                        <div style="font-size: 1.3em; font-weight: bold; color: #333; margin-top: 5px;">${confidence}%</div>
                    </div>
                    <div style="background: #f0f7ff; padding: 15px; border-radius: 8px;">
                        <div style="color: #667eea; font-size: 0.9em; font-weight: 600; text-transform: uppercase;">Forecast Period</div>
                        <div style="font-size: 1.1em; font-weight: bold; color: #333; margin-top: 5px;">${days} days (${currentYear})</div>
                    </div>
                    <div style="background: #f0f7ff; padding: 15px; border-radius: 8px;">
                        <div style="color: #667eea; font-size: 0.9em; font-weight: 600; text-transform: uppercase;">Current Price</div>
                        <div style="font-size: 1.3em; font-weight: bold; color: #333; margin-top: 5px;">$${currentPrice.toLocaleString()}</div>
                    </div>
                    <div style="background: #f0f7ff; padding: 15px; border-radius: 8px;">
                        <div style="color: #667eea; font-size: 0.9em; font-weight: 600; text-transform: uppercase;">Predicted Price</div>
                        <div style="font-size: 1.3em; font-weight: bold; color: #333; margin-top: 5px;">$${predictedPrice.toLocaleString()}</div>
                    </div>
                    <div style="background: #f0f7ff; padding: 15px; border-radius: 8px;">
                        <div style="color: #667eea; font-size: 0.9em; font-weight: 600; text-transform: uppercase;">Expected Change</div>
                        <div style="font-size: 1.3em; font-weight: bold; color: ${priceChange > 0 ? '#10b981' : '#ef4444'}; margin-top: 5px;">
                            ${priceChange > 0 ? '‚Üó' : '‚Üò'} ${Math.abs(priceChange).toFixed(2)}%
                        </div>
                    </div>
                </div>
                <div style="background: linear-gradient(135deg, ${color}15 0%, ${color}25 100%); padding: 20px; border-radius: 12px; border: 3px solid ${color}; margin-top: 20px;">
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                        <div style="font-size: 2.5em;">${icon}</div>
                        <div>
                            <div style="color: ${color}; font-size: 1.1em; font-weight: 700; text-transform: uppercase; letter-spacing: 1px;">üí° Smart Recommendation</div>
                            <div style="font-size: 2em; font-weight: 900; color: ${color}; margin-top: 5px;">${recommendation}</div>
                        </div>
                    </div>
                    <div style="background: rgba(255,255,255,0.9); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <div style="color: #333; font-size: 1em; line-height: 1.6;">${reason}</div>
                    </div>
                    ${investmentAmount > 0 ? `
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div style="background: rgba(255,255,255,0.9); padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="color: #667eea; font-size: 0.9em; font-weight: 600; text-transform: uppercase;">Suggested Investment</div>
                            <div style="font-size: 1.8em; font-weight: bold; color: ${color}; margin-top: 5px;">$${investmentAmount.toFixed(0)}</div>
                        </div>
                        <div style="background: rgba(255,255,255,0.9); padding: 15px; border-radius: 8px; text-align: center;">
                            <div style="color: #667eea; font-size: 0.9em; font-weight: 600; text-transform: uppercase;">Est. Return (${days}d)</div>
                            <div style="font-size: 1.8em; font-weight: bold; color: ${priceChange > 0 ? '#10b981' : '#ef4444'}; margin-top: 5px;">
                                ${priceChange > 0 ? '+' : ''}$${(investmentAmount * priceChange / 100).toFixed(0)}
                            </div>
                        </div>
                    </div>
                    ` : `
                    <div style="background: rgba(255,255,255,0.9); padding: 15px; border-radius: 8px; text-align: center;">
                        <div style="color: #667eea; font-size: 1em; font-weight: 600;">üíº No active investment recommendation at this time</div>
                    </div>
                    `}
                    <div style="margin-top: 15px; padding: 12px; background: rgba(255,255,255,0.7); border-radius: 6px; font-size: 0.85em; color: #666; text-align: center;">
                        ‚ö†Ô∏è <strong>Disclaimer:</strong> This is AI-generated forecast for educational purposes. Not financial advice. Cryptocurrency investments carry high risk.
                    </div>
                </div>
            `;
            document.getElementById('forecastStats').innerHTML = statsHTML;
        }

        function resetZoom() {
            if (forecastChart && typeof forecastChart.resetZoom === 'function') {
                forecastChart.resetZoom();
            }
        }

        async function loadHistoricalChart() {
            const crypto = document.getElementById('cryptoSelect').value;
            const range = document.getElementById('dateRangeSelect').value;
            const startDate = document.getElementById('startDate').value;
            const endDate = document.getElementById('endDate').value;
            const loading = document.getElementById('loading');
            loading.classList.add('active');
            try {
                await ensureHourlyData();
                const dailySeries = getDailySeries(crypto);
                const filtered = sliceByRange(dailySeries, range, startDate, endDate);
                displayHistoricalChart(crypto, filtered, range, startDate, endDate);
            } catch (err) {
                console.error('Failed to load historical data', err);
            } finally {
                loading.classList.remove('active');
            }
        }

        function displayHistoricalChart(crypto, series, range, startDate, endDate) {
            const resultBox = document.getElementById('resultBox');
            resultBox.classList.add('active');

            const labels = series.map(p => p.label);
            const prices = series.map(p => p.close);
            let labelRange = 'All Time';
            if (range === '6m') labelRange = 'Last 6 Months';
            if (range === '1m') labelRange = 'Last 1 Month';
            if (range === 'custom' && startDate && endDate) labelRange = `${startDate} to ${endDate}`;

            const ctx = document.getElementById('forecastChart').getContext('2d');
            if (forecastChart) forecastChart.destroy();
            forecastChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels,
                    datasets: [
                        {
                            label: 'Historical Prices',
                            data: prices,
                            borderColor: '#667eea',
                            backgroundColor: 'rgba(102, 126, 234, 0.1)',
                            borderWidth: 3,
                            fill: true,
                            tension: 0.35,
                            pointRadius: 2,
                            pointBackgroundColor: '#667eea',
                            pointBorderColor: '#fff',
                            pointBorderWidth: 2
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            labels: {
                                usePointStyle: true,
                                padding: 15,
                                font: { size: 12, weight: 'bold' }
                            }
                        },
                        title: {
                            display: true,
                            text: `${crypto} - Historical Price Data ${new Date().getFullYear()} (${labelRange})`,
                            font: { size: 14, weight: 'bold' },
                            padding: 20
                        },
                        zoom: {
                            pan: { enabled: true, mode: 'xy', modifierKey: 'ctrl' },
                            zoom: {
                                wheel: { enabled: true },
                                pinch: { enabled: true },
                                mode: 'xy'
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: { display: true, text: 'Price ($)' },
                            grid: { color: 'rgba(0,0,0,0.1)' }
                        },
                        x: {
                            grid: { display: false }
                        }
                    }
                }
            });

            document.getElementById('forecastStats').innerHTML = `
                <div style="background: #f0f7ff; padding: 20px; border-radius: 8px; text-align: center;">
                    <p style="color: #667eea; font-weight: 600; margin-bottom: 10px;">Historical Data Loaded</p>
                    <p style="color: #666;">Showing ${series.length} data points for ${crypto} (${labelRange})</p>
                </div>
            `;
        }

        function onRangeChange() {
            const range = document.getElementById('dateRangeSelect').value;
            const startInput = document.getElementById('startDate');
            const endInput = document.getElementById('endDate');
            if (range === 'custom') {
                startInput.style.display = '';
                endInput.style.display = '';
            } else {
                startInput.style.display = 'none';
                endInput.style.display = 'none';
            }
        }

        function onCustomDateChange() {
            // Optional: auto-refresh on custom date change
        }

        function switchTab(event, tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));

            const buttons = document.querySelectorAll('.tab-btn');
            buttons.forEach(btn => btn.classList.remove('active'));

            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        window.addEventListener('DOMContentLoaded', () => {
            document.getElementById('dateRangeSelect').value = '6m';
            renderModelMetrics();
        });

        window.addEventListener('load', () => {
            loadHistoricalChart();
        });
    </script>
</body>
</html>
